I"ó<p>The purpose of this library is to create a custom servo motor. To use it you will need:</p>

<ul>
  <li>An H-bridge</li>
  <li>A DC motor that can be reversed by flipping the voltage across it.</li>
  <li>An analog sensor that can measure the position of the motor.</li>
</ul>

<p>You will also need a single analog pin and two pins capable of pwm output. See this page 
to find out what pwm pins are available on your <a href="https://www.arduino.cc/reference/en/language/functions/analog-io/analogwrite/">arduino board</a></p>

<p>Each of the components must be connected in the following way:</p>

<ul>
  <li>The motor leads connect to the H-bridge.</li>
  <li>The H-bridge input pins are connected to the chosen pwm pins of the arduino.</li>
  <li>The sensor is connected to the chosen analog pin of the arduino.</li>
</ul>

<p>Note that the library uses analogRead() to measure the sensor. As such, the entire range
of motion will be divided to 1024 individual steps. For a 180 degree rotation this means 
a maximum precision of 180/1024 ~ 0.18 degrees.</p>

<p>The motion of the servo is controlled via a PID loop. The associated coefficients are set 
when a sketch is compiled and cannot be changed once the arduino is running.</p>

<p>Credit goes to Pavel Holoborodko for the coefficients used to calculate the PID 
derivatives. See this page for his work on <a href="http://www.holoborodko.com/pavel/numerical-methods/numerical-derivative/smooth-low-noise-differentiators/">noise robust differentiators</a></p>

<p>Finally, the methods of the class are:</p>

<ul>
  <li>initialize(): sets the input and output pins and calibrates the servo.</li>
  <li>readSensor(): returns the unfiltered sensor signal.</li>
  <li>setPosition(int): sets the target position of the servo.</li>
</ul>

<p>The schematic below provides an example for the required conections:</p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoMotor/master/DIY_servo_schem.png" alt="image" /></p>

<p>Hereâ€™s an example of hobby servo using this software:</p>

<p>[<img src="https://img.youtube.com/vi/f50K68zB4eU/hqdefault.jpg" alt="video" />]
https://www.youtube.com/watch?v=FxEQQvTA3Fk</p>

<h3 id="github-repo">Github Repo:</h3>
<p><a href="https://github.com/RCmags/ServoMotor">ServoMotor</a></p>
:ET