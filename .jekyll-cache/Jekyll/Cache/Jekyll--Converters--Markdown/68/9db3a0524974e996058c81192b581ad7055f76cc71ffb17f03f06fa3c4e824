I"Y!<h1 id="concept">Concept</h1>
<p>This project concerns itself with the development of an RC ornithopter (Flapping MAV) powered and controlled by two servos. Each servo is connected to a wing and flapped independently. This allows the motion of the wings to be controlled through software rather than through a specially designed mechanism.</p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/servo_body_res.jpg" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/bottom_view_res.JPG" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/side_view_res.JPG" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/flap_motion.gif" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/roll_motion.gif" alt="image" /></p>

<h1 id="arduino-code">Arduino Code</h1>
<p>The program is designed to receive 3 PWM inputs from an RC receiver operating in <a href="https://www.rc-airplane-world.com/rc-transmitter-modes.html">MODE 2</a> and outputs 2 PWM signals for off-the-shelft hobby servos. The aileron (1) and elevator (2) channels are used to bias the dihedral angle of each wing, with the aileron rotating the wings in unison, while the elevator changes the dihedral angle. The throttle channel (3) control the amplitude of a fixed-frequency oscillation.</p>

<p>There are 3 wave-forms the user can select: sine wave, triangle wave, and saw wave. The controller also is equipped with a low-voltage cutoff routine. This will dissable the throttle channel to prevent over-discharging a battery. The routine uses an analog-pin to read the input voltage via a voltage-divider.</p>

<p>The program was written for an Arduino Nano but it should be compatible with other boards. 
It requires the <a href="https://www.arduino.cc/reference/en/libraries/pinchangeinterrupt/">PinChageInterrupt</a> library.
For more information on the controller, please see this <a href="https://www.rcgroups.com/forums/showpost.php?p=41325203&amp;postcount=69">RCgroups post</a>.</p>

<p>Github Repo: <a href="https://github.com/RCmags/ServoFlappingControl">ServoFlappingControl</a></p>

<p>See the attached schematic for an example of the required circuit:</p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/ReceiverServoFlap_VoltCutoff.png" width="80%" /></p>

<p>This video demonstrates how the controller works:<br />
<a href="https://youtu.be/T6NfZD_iuEs"><img src="https://img.youtube.com/vi/T6NfZD_iuEs/hqdefault.jpg" alt="video" /></a></p>

<h1 id="videos">Videos</h1>
<p>Below you can see videos showing different iterations of the aircraft:</p>

<p><a href="https://youtu.be/mhs4mhZv6aE"><img src="https://img.youtube.com/vi/mhs4mhZv6aE/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Iteration 1. Underpowered servos</p>

<p><a href="https://youtu.be/tji2ks2tRWM"><img src="https://img.youtube.com/vi/tji2ks2tRWM/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Iteration 2. Inefficient wings</p>

<p><a href="https://youtu.be/1Y5dV8BgdM8"><img src="https://img.youtube.com/vi/1Y5dV8BgdM8/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Iteration 3. Assymetric wing elasticity</p>

<p><a href="https://youtu.be/EZ9vgVurDFM"><img src="https://img.youtube.com/vi/EZ9vgVurDFM/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Iteration 3. Segmented wing panels</p>

<h1 id="construction-blog">Construction blog</h1>
<p>For much moere detailed information on the steps taken to develop this aircraft, see this thread on RCgroups: <a href="https://www.rcgroups.com/forums/showthread.php?3221699-Attempt(s)-at-a-servo-flap-ornithopter">Attempts at a servo flap ornithopter</a>. The most important posts are listed for easy access:</p>

<ol>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41093927&amp;postcount=10">Very simple math model</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41104533&amp;postcount=14">Energy and oscillating mass</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41117281&amp;postcount=20">Elastic actuators - motors and springs</a></li>
  <li>First iteration - the build begins!:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41126441&amp;postcount=24">Part 1</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41126441&amp;postcount=25">Part 2</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41151391&amp;postcount=33">Control via dihedral offset: Pitch-flap coupling</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41164641&amp;postcount=36">Oscillating wing as 2nd order damped system</a></li>
  <li>Second iteration:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41166873&amp;postcount=37">New frame and servo horns</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41183483&amp;postcount=40">Wing build</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41195325&amp;postcount=43">Covering the wing</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41229197&amp;postcount=47">Completed wings and mounted electronics</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41251767&amp;postcount=50">Glide tests</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41257839&amp;postcount=52">Longer tail boom and additional spring</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41264455&amp;postcount=55">Wiring electronics</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41273735&amp;postcount=57">Arduino Code</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41307103&amp;postcount=61">Powered test flights</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41325203&amp;postcount=69">Adding low voltage cutoff</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41250929&amp;postcount=49">Maximum motor efficiency: Idealized case</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41350463&amp;postcount=70">A simple model to determine servo speed and torque</a></li>
  <li>Oscillating servo:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41611419&amp;postcount=106">Initial experiment with springs</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41793219&amp;postcount=114">Current experiment #2</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42099773&amp;postcount=118">Direct and indirect drive</a></li>
    </ul>
  </li>
  <li>Forth iteration:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42335531&amp;postcount=125">Constructing the fuselage</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42352337&amp;postcount=130">Adding electronics and Tail</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42368071&amp;postcount=136">Membrane wings inspired on Hang glider Sail</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42374421&amp;postcount=141">Composite Foam-Fabric wings</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42379981&amp;postcount=144">Adding tail servos</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42380089&amp;postcount=145">Unsuccesful flightâ€¦</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43071065&amp;postcount=159">Experiments with wing articulation</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=47159375&amp;postcount=188">Initial test with segmented wings</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43079349&amp;postcount=164">Measured oscillations - Updated Servo controller code - servoMotor Library</a></li>
  <li>Analysis of the effects of wing elasticity:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43356729&amp;postcount=172">Part 1</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=47154289&amp;postcount=185">Part 2</a></li>
    </ul>
  </li>
</ol>

:ET