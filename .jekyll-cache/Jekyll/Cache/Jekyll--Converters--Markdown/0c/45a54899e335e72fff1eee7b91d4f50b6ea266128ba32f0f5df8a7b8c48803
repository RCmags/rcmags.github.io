I"-0<h1 id="introduction">Introduction</h1>
<p><a href="https://en.wikipedia.org/wiki/Ornithopter">Ornithopters</a> are aircraft that use oscillating wings to stay aloft. Depending on the characteristics of the aircraft, an ornithopter can maintain flight at a constant velocity like a bird, or it can fly in static air like an insect. These scenarios are analogous to an airplane driven by a propeller and a helicopter at hover.</p>

<p><a href="https://youtu.be/f50K68zB4eU"><img src="https://img.youtube.com/vi/f50K68zB4eU/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video A. Bird in horizontal flight</p>

<p><a href="https://youtu.be/2z9F6pVhR5o"><img src="https://img.youtube.com/vi/2z9F6pVhR5o/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video B. Insect at hover</p>

<p>There are a few advantages to ornithopters. In horizontal flight, the wings of an ornithopter can sweep over a much larger area compared to a propeller. According to <a href="https://web.mit.edu/16.unified/www/FALL/thermodynamics/notes/node86.html">actuator disk theory</a>, this increase in the area can increase the propulsive efficiency of the aircraft. Likewise, oscillating wings do not suffer from <a href="https://www.copters.com/aero/lift_dissymetry.html">dissymetry of lift</a> and <a href="http://www.cleonis.nl/physics/phys256/gyroscope_physics.php">gyroscopic precession</a> like a rotary-wing. The absence of these forces can enhance the natural stability of an ornithopter compared to a helicopter.</p>

<h1 id="design-concept">Design Concept</h1>
<p>This project concerns itself with developing a radio-controlled ornithopter powered and controlled by two servos. Each servo is connected to a wing and flapped independently. This allows the motion of the wings to be controlled through software rather than through a specially designed mechanism. There are many advantages to this approach, mainly that it is very easy to adjust the amplitude of the flapping motion, and the wings may be oscillated asymmetrically to achieve directional control.</p>

<p><img src="https://www.researchgate.net/profile/Yanghai-Nan/publication/280948641/figure/fig1/AS:614244433289216@1523458693052/Control-via-flapping-amplitude-offset-modulation.png" alt="image" /></p>

<h1 id="aircraft-iterations">Aircraft Iterations</h1>

<p><strong>Iteration 1:</strong><br />
The first version was simply a test platform to observe how well servos could oscillate a pair of spars. It also served as a platform to test the use of springs connected to the servos in series or parallel. These springs can <a href="https://www.rcgroups.com/forums/showpost.php?p=41117281&amp;postcount=20">reduce the power drawn by an oscillating mass</a> driven by a motor if tuned correctly. In this case, a coil spring was connected in series with the servo, and a leaf spring was used for the parallel connection.</p>

<p><img src="/img/servo_orni/version1-1.jpg" alt="image" /></p>

<p><img src="/img/servo_orni/version1-2.JPG" alt="image" /></p>

<p><strong>Iteration 2:</strong>
The second iteration was a fully functional aircraft. It used a pair of skewed hinges to achieve roll and pitch control. Unfortunately, test flights revealed this system did not work. Additionally, the servos were undersized for the application and were overloaded. This resulted in the servos getting very hot to apply the desired torque. Lastly, the wings could not achieve efficient thrust, so the aircraft could not sustain level flight.</p>

<p><img src="/img/servo_orni/version2-1.JPG" alt="image" /></p>

<p><img src="/img/servo_orni/version2-2.jpg" alt="image" /></p>

<p><img src="/img/servo_orni/version2-3.jpg" alt="image" /></p>

<p><strong>Iteration 3:</strong>
The third iteration built upon the experience from the 2nd version. Mainly, control was accomplished separately from the wings through a controllable tail. Larger servos were used with four times the torque to reduce the likelihood of excess torque. To this end, the servos were also connected indirectly to the wings via a lever arm to effectively double the torque they could apply to the wing. This overcame any issues with driving the wings, but the wing design was still lacking. By experimenting with different wing configurations, relatively large wings with a high degree of flexibility eventually allowed the aircraft to maintain flight.</p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/servo_body_res.jpg" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/bottom_view_res.JPG" alt="image" /></p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/example_pics/flap_motion.gif" alt="image" /></p>

<h1 id="arduino-code">Arduino Code</h1>
<p>The program is designed to receive 3 PWM inputs from an RC receiver operating in <a href="https://www.rc-airplane-world.com/rc-transmitter-modes.html">MODE 2</a> and outputs 2 PWM signals for off-the-shelf hobby servos. The aileron (1) and elevator (2) channels are used to bias the dihedral angle of each wing, with the aileron rotating the wings in unison while the elevator changes the dihedral angle. The throttle channel (3) changes the amplitude of a fixed-frequency oscillation.</p>

<p>There are three wave-forms the user can select: sine wave, triangle wave, and saw wave. The controller also is equipped with a low-voltage cutoff routine. This will disable the throttle channel to prevent over-discharging a battery. The routine uses an analog pin to read the input voltage via a voltage divider.</p>

<p>The program was written for an Arduino Nano, but it should be compatible with other boards. 
It requires the <a href="https://www.arduino.cc/reference/en/libraries/pinchangeinterrupt/">PinChageInterrupt</a> library.
For more information on the controller, please see this <a href="https://www.rcgroups.com/forums/showpost.php?p=41325203&amp;postcount=69">RCgroups post</a>.</p>

<p>Github Repo: <a href="https://github.com/RCmags/ServoFlappingControl">ServoFlappingControl</a></p>

<p>See the attached schematic for an example of the required circuit:</p>

<p><img src="https://raw.githubusercontent.com/RCmags/ServoFlappingControl/main/ReceiverServoFlap_VoltCutoff.png" width="80%" /></p>

<h1 id="videos">Videos</h1>
<p>Below are videos of different iterations of the aircraft:</p>

<p>This video demonstrates how the controller works:<br />
<a href="https://youtu.be/T6NfZD_iuEs"><img src="https://img.youtube.com/vi/T6NfZD_iuEs/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video 1. Demonstration of servo controller</p>

<p><a href="https://youtu.be/mhs4mhZv6aE"><img src="https://img.youtube.com/vi/mhs4mhZv6aE/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video 2. Underpowered servos</p>

<p><a href="https://youtu.be/tji2ks2tRWM"><img src="https://img.youtube.com/vi/tji2ks2tRWM/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video 3. Inefficient wings</p>

<p><a href="https://youtu.be/1Y5dV8BgdM8"><img src="https://img.youtube.com/vi/1Y5dV8BgdM8/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video 4. Assymetric wing elasticity</p>

<p><a href="https://youtu.be/EZ9vgVurDFM"><img src="https://img.youtube.com/vi/EZ9vgVurDFM/hqdefault.jpg" alt="video" /></a></p>
<p align="center">Video 5. Segmented wing panels</p>

<h1 id="construction-blog">Construction blog</h1>
<p>For much more detailed information on the steps taken to develop this aircraft, see this thread on RCgroups: <a href="https://www.rcgroups.com/forums/showthread.php?3221699-Attempt(s)-at-a-servo-flap-ornithopter">Attempts at a servo flap ornithopter</a>. The most important posts are shown below:</p>

<ol>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41093927&amp;postcount=10">Very simple math model</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41104533&amp;postcount=14">Energy and oscillating mass</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41117281&amp;postcount=20">Elastic actuators - motors and springs</a></li>
  <li>First iteration - the build begins!:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41126441&amp;postcount=24">Part 1</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41126441&amp;postcount=25">Part 2</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41151391&amp;postcount=33">Control via dihedral offset: Pitch-flap coupling</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41164641&amp;postcount=36">Oscillating wing as 2nd order damped system</a></li>
  <li>Second iteration:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41166873&amp;postcount=37">New frame and servo horns</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41183483&amp;postcount=40">Wing build</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41195325&amp;postcount=43">Covering the wing</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41229197&amp;postcount=47">Completed wings and mounted electronics</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41251767&amp;postcount=50">Glide tests</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41257839&amp;postcount=52">Longer tail boom and additional spring</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41264455&amp;postcount=55">Wiring electronics</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41273735&amp;postcount=57">Arduino Code</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41307103&amp;postcount=61">Powered test flights</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41325203&amp;postcount=69">Adding low voltage cutoff</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41250929&amp;postcount=49">Maximum motor efficiency: Idealized case</a></li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41350463&amp;postcount=70">A simple model to determine servo speed and torque</a></li>
  <li>Oscillating servo:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41611419&amp;postcount=106">Initial experiment with springs</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=41793219&amp;postcount=114">Current experiment #2</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42099773&amp;postcount=118">Direct and indirect drive</a></li>
    </ul>
  </li>
  <li>Forth iteration:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42335531&amp;postcount=125">Constructing the fuselage</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42352337&amp;postcount=130">Adding electronics and Tail</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42368071&amp;postcount=136">Membrane wings inspired on Hang glider Sail</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42374421&amp;postcount=141">Composite Foam-Fabric wings</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42379981&amp;postcount=144">Adding tail servos</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=42380089&amp;postcount=145">Unsuccesful flightâ€¦</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43071065&amp;postcount=159">Experiments with wing articulation</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=47159375&amp;postcount=188">Initial test with segmented wings</a></li>
    </ul>
  </li>
  <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43079349&amp;postcount=164">Measured oscillations - Updated Servo controller code - servoMotor Library</a></li>
  <li>Analysis of the effects of wing elasticity:
    <ul>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=43356729&amp;postcount=172">Part 1</a></li>
      <li><a href="https://www.rcgroups.com/forums/showpost.php?p=47154289&amp;postcount=185">Part 2</a></li>
    </ul>
  </li>
</ol>

:ET