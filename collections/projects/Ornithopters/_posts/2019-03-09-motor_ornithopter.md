---
layout: post
title: "Review | Ornithopter powered by a motor with a crank-shaft"

# image sliders:
slider1:
- url: /img/motor_orni/version1/crank-1.JPG
- url: /img/motor_orni/version1/front-vtail.JPG
- url: /img/motor_orni/version1/version1-1.jpg
- url: /img/motor_orni/version1/version1-2.jpg
- url: /img/motor_orni/version1/version1-3.jpg
- url: /img/motor_orni/version1/version1-4.jpg


slider2:
- url: /img/motor_orni/version2/front-inverted.JPG
- url: /img/motor_orni/version2/version2-1.jpg
- url: /img/motor_orni/version2/version2-2.jpg

slider3:
- url: /img/motor_orni/version3/crank-2.JPG
- url: /img/motor_orni/version3/front-inverted-cambered.JPG
- url: /img/motor_orni/version3/version3-1.jpg
- url: /img/motor_orni/version3/version3-2.jpg
- url: /img/motor_orni/version3/version3-3.jpg

slider4:
- url: /img/motor_orni/version4/version4-1.jpg
- url: /img/motor_orni/version4/version4-2.jpg
- url: /img/motor_orni/version4/version4-3.jpg
- url: /img/motor_orni/version4/version4-4.jpg
- url: /img/motor_orni/version4/version4-5.jpg

slider5:
- url: /img/motor_orni/version5/version5-1.jpg
- url: /img/motor_orni/version5/version5-2.jpg
- url: /img/motor_orni/version5/version5-3.jpg
- url: /img/motor_orni/version5/version5-4.jpg
- url: /img/motor_orni/version5/version5-5.jpg

slider6:
- url: /img/motor_orni/version5/version5-6.jpg
- url: /img/motor_orni/version5/version5-7.jpg
- url: /img/motor_orni/version5/version5-8.jpg
- url: /img/motor_orni/version5/version5-9.jpg

slider7:
- url: /img/motor_orni/version6/wing-1.jpg
- url: /img/motor_orni/version6/wing-2.jpg
- url: /img/motor_orni/version6/wing-3.jpg
- url: /img/motor_orni/version6/wing-4.jpg

slider8:
- url: /img/motor_orni/version7/body-1.jpg
- url: /img/motor_orni/version7/body-2.jpg
- url: /img/motor_orni/version7/body-3.jpg
- url: /img/motor_orni/version7/body-4.jpg
 
slider9:
- url: /img/motor_orni/version7/version6-1.jpg
- url: /img/motor_orni/version7/version6-2.jpg
- url: /img/motor_orni/version7/version6-3.jpg
- url: /img/motor_orni/version7/version6-4.jpg
---

# Introduction
[Ornithopters](https://en.wikipedia.org/wiki/Ornithopter) are fascinating aircraft in that they are capable of mimicking [animal flight](https://en.wikipedia.org/wiki/Flying_and_gliding_animals) by flapping their wings to stay aloft. This type of motion can be accomplished through a multitude of different mechanisms. One such approach is to use a __crank shaft__ that converts rotary motion into reciprocating motion. An example of this mechanism is a [piston engine](https://en.wikipedia.org/wiki/Reciprocating_engine), wherein a shaft connected through a crank moves a piston back and forth. A great advantages of using a reciprocating mechanism is that it allows the motor that drives the entire mechanism to rotate continuously in one direction.

![image](/img/motor_orni/crank.png)
<p align="center"><i>A crank can be used to convert rotaty motion into reciprocating motion</i></p>

This is very [efficient](http://lancet.mit.edu/motors/motors3.html) as it allows the motor to operate in a single direction at an ideal torque and angular velocity. By comparison, a reciprocating motor cannot obtain this efficiency as the motor is constantly forced to change direction, having an angular velocity and torque output that changes with time. While a reciprocating drive can easily adjust the motion of its output by simply changing the __commanded velocity__ at which it rotates, along with the direction in which it moves in, a crank mechanism cannot do this. It is restricted to moving in the [waveform](https://en.wikipedia.org/wiki/Waveform) generated by mechanism based on the rotation of the input motor. Therefore, we can see that a crank-based system exchanges _controllability_ for _efficiency_ compared to a reciprocating system that gains controllability but loses efficiency.

![image](/img/motor_orni/motor-efficiency.jpg)
<p align="center"><i>Electric motors obtain maximum efficiency at a specific speed</i></p>

# Motivation of project
In the process of developing a [servo-based ornithopter](https://rcmags.github.io/projects/ornithopters/2019/02/08/servo_ornithopter.html) that used reciprocating motors to drive the wings, it became obvious that the inefficiency of the system made it much more difficult to attain flight. In an effort to separate the problem of developing an efficient set of ornithopter wings versus generating a reciprocating drive that had enough power to attain flight, I focused on making an ornithopter that was powered through a crank mechanism.

# Design iterations

#### Iteration 1: 
The first iteration of the motor-powered ornithopter was very simple and consisted of a set of tubes that were joined together to make a frame. The wings were driven by a __two-stage gearbox__ that connected to a crankshaft, that then drove a set of wings through a reciprocating [conrod](https://en.wikipedia.org/wiki/Connecting_rod). A [transverse crankshaft](https://ornithopter.org/how.flap.shtml) was chosen because of the direction it would generate any resulting torque from the motor. In this mechanism, the crank rotates in an axis that is at 90 degrees from the axis of rotation of the wings. This configuration makes the conrod move in two directions, meaning that it cannot be mounted on single-axis bearings, but must be mounted on the equivalent of [ball and socket joints](https://en.wikipedia.org/wiki/Ball-and-socket_joint). These joints tend to increase the friction of rotating the crank mechanism. The transverse configuration ensures that the oscillation of the wings remains symmetrical.

![image](/img/motor_orni/transverse-crank.png)
<p align="center"><i>A transverse crank ensured symmetrical wing motion</i></p>

To further increase the simplicity of the ornithopter, the wings and the tail were given a [rectangular planform](https://en.wikipedia.org/wiki/Wing_configuration). The tail was initially built in an [upright V-tail](https://en.wikipedia.org/wiki/V-tail) configuration, but unfortunately this configuration proved to be very inefficient at changing the direction of the aircraft. On the other hand, the wings, along with the motor and crank system, proved to be sufficiently powerful to keep the aircraft aloft, albeit with a very marginal [rate of climb](https://en.wikipedia.org/wiki/Rate_of_climb). To improve the control authority, the tail was rotated 180 degrees so that it faced downward. This [inverted V-tail](https://www.rcgroups.com/forums/showthread.php?1332900-V-Tail-setup/page3) proved to be far more effective at changing the direction of the aircraft.

{% include image-slider.html list=page.slider1 local='yes' %}
<p align="center"><i>The initial version had an upright v-tail</i></p>

{% include image-slider.html list=page.slider2 local='yes' %}
<p align="center"><i>An inverted v-tail greatly improved handling</i></p>

The controls were now very efficient and aggressive, and it was even possible to overcorrect based on the control deflections that were established before. To increase performance of the wings, the diagonal spars that were initially installed on the wings were replaced with thicker beams than increase the torsional rigidity of the wing. This had the effect of significantly increasing the climb rate of the aircraft, the end result being a machine that was capable of aggressively turning and maintaining altitude while climbing at a reasonable rate.

{% include youtube.html id='wVLkWb_JHCo' %}    
<p align="center"><i>Video 1. Ornithopter with inverted V-tail</i></p>

#### Iteration 2: 
In an another effort further improve the wings, both in terms of the thrust they produced and the lift they were capable of generating, a set of __ribs__ were installed along their span. The ribs close to the root of the wing were bent to provide an [undercambered](https://en.wikipedia.org/wiki/Camber_(aerodynamics)) [airfoil](https://en.wikipedia.org/wiki/Airfoil), while the ribs near the tip of the wing were left flat to provide a __symmetrical airfoil__.

![image](/img/motor_orni/airfoil-types.png)

The logic behind this configuration was that airflow at the root of the wing would not be affected greatly by the [tangential velocity](https://en.wikipedia.org/wiki/Tangential_speed) generated by the wing oscillation. As such, the _root_ sections of the wing could focus on _generating lift_ to counter the weight of the aircraft. On the other hand, since the wingtips were _greatly_ affected by the tangential velocity, they would most likely see a _reversal of angle of attack_ during the upstroke. Under these conditions, a symmetrical airfoil is better suited because it can efficiently generate lift indifferent of whether the angle of attack is positive or negative, therefore maximizing the _thrust generated by the wingtips_.

{% include image-slider.html list=page.slider3 local='yes' %}
<p align="center"><i>The modified wings had ribs with and without camber</i></p>

An additional modification was the addition of strong __downstroke springs__. These springs would bias the torque felt by the entire crank mechanism while the aircraft was in flight. Rather than seeing a large load during the downstroke and a sudden loss of load during the upstroke, the bias springs would even out this asymmetry, making the motor feel a roughly constant resistace indifferent of whether the wings are moving upwards or downward.

{% include youtube.html id='peSMr35mHOE' %}   
<p align="center"><i>Video 2. Cambered wings and bias springs</i></p>

While these modifications appeared to be very good on paper, in practice, they barely had an effect on the performance of the ornithopter. In fact, it almost felt like they had a _detrimental_ effect on the performance.

#### Iteration 3: 
Unsure of what else to do, I focused on changing the characteristics of the wings in an effort to decrease the power needed to keep the ornithopter in flight. These experiments involved changing the __planform__ of the wing along with trying out different diagonal spars that would affect the [torsional rigidity](https://en.wikipedia.org/wiki/Torsion_(mechanics)) of the wings. After multiple iterations, the most successful wings had relatively flexible diagonal spars with a bend in at middle that generated [wash-in](https://en.wikipedia.org/wiki/Washout_(aeronautics)) (the opposite of washout) at the wing tips.

![image](/img/motor_orni/wing-washin.png)
<p align="center"><i>Pre-bent diagonal spars counter twist due to weight</i></p>

This inbuilt twist meant that when the wings were not loaded, tips would have a degree of downwards twist. But once the wings began to generate lift, tips would rise, making the entire wing have almost no twist when carrying the weight of the aircraft. This was a finely tuned configuration, meaning that any _increase or decrease in the weight_ of the aircraft would _bias the twist_ of the wings while in flight. Another modification to the ornithopter was a reduction of the [incidence angle](https://en.wikipedia.org/wiki/Angle_of_incidence_(aerodynamics)) of the tail with respect to the wings. This meant that the wings would operate at a lower angle of attack, which would force the ornithopter to fly at a higher airspeed.

{% include image-slider.html list=page.slider4 local='yes' %}
<p align="center"><i>Pre-bent diagonal spars twisted the wingtips when unloaded</i></p>

{% include youtube.html id='tKS_8ROoZw0' %}  
<p align="center"><i>Video 3. The pre-twisted wings allowed the ornithopter to glide and fly better</i></p>

The end result of these modifications was an aircraft that flew faster and had a slightly higher rate of climb compared to its original configuration. It was also capable of [gliding](https://en.wikipedia.org/wiki/Gliding_flight) much better which was a welcome benefit. The wings were configured to hold a particular dihedral angle thanks to the downstroke springs that would prevent them from collapsing under load.

#### Iteration 4: 
Despite this multitude of iterations and experiments with the wing design, it became clear that after a point the modifications _did not have an effect_. Moreover, increasing the _flapping frequency_ of the wings by means of adding a higher voltage battery to drive the motor, didn't seem to have the impact that one would expect. It _did not greatly increase the rate of climb_ of the aircraft, and to some extent it seemed like flapping the wings faster tended to hurt the rate of climb, as the aircraft would tend to fly slower. This behavior suggested that the [propulsive efficiency](https://eaglepubs.erau.edu/introductiontoaerospaceflightvehicles/chapter/introduction-to-propulsion-systems/) of the ornithopter _decreased_ as the flapping frequency went up. The aircraft didn't fly any faster or climbed any better when the motor was outputting more power.

![image](https://raw.githubusercontent.com/RCmags/ornithopter-airfoil-sim/refs/heads/main/figures/airfoil_motion.gif)
<p align="center"><i>Inertial forces act to decrease thrust with increasing frequency</i></p>

After some [mathematical analysis](https://www.rcgroups.com/forums/showpost.php?p=49734105&postcount=226), it was deemed that perhaps the passive nature of the previous wings was the culprit of this observed plateau in performance. Rather than depending on the forces acting on the wings to twist them in such a way that they would produce thrust, a mechanism could be used to force a particular twist profile as the wings oscillated to ensure their _kinematics_ did not change with _frequency_. To accomplish this motion, a [simple mechanism](https://www.rcgroups.com/forums/showpost.php?p=49734129&postcount=227) was developed that could attach to the existing transverse crank that could oscillate the spars of the wings. The flexible membrane wings are also replaced with rigid foam panels that greatly increased the rigidity of the wings without making them incapable of being rotated by the spar twisting mechanism.

{% include image-slider.html list=page.slider5 local='yes' %}
<p align="center"><i>The active twist mechanism built upon the transverse crank</i></p>

{% include image-slider.html list=page.slider6 local='yes' %}
<p align="center"><i>The initial foam wings had a simple rectangular planform</i></p>

These modifications increase the weight of the aircraft, so the battery voltage was _raised_ to compensate for the additional power that was expected to be needed. The end result was an aircraft that, despite being heavier than its original iterations, flew faster and could climb more aggressively than before. It did, however, flap its wings at a noticeably _higher_ frequency, which indicated that the active twist mechanism played its part by increasing the propulsive efficiency across a wider range of flapping frequencies.

{% include youtube.html id='Fi-wzo6SqOY' %} 
<p align="center"><i>Video 4. Active twist with simple rectangular wings</i></p>

#### Iteration 5: 
Unfortunately, the higher loads generated by the increase in flapping frequency, along with the greater weight of the aircraft, made the wings and crank mechanism __fail__ on multiple occasions. It was also observed that the performance of the aircraft began to decay after multiple flights. Its unclear why this happened, but a combination of gearbox ware along with degrading batteries likely played a role. In an effort to decrease these loads and to further increase the performance of the aircraft, a series of experiments were begun to modify the shape of the foam wings. After multiple experiments with different planforms, along with variations in the [amplitude](https://en.wikipedia.org/wiki/Amplitude) at which the wings flapped, it was identified that __long wings with tapered tips__ provided the best performance.

![image](/img/motor_orni/induced-drag.png)
<p align="center"><i>Induced drag reduces the thrust generated by the wing-tips</i></p>

This was likely due to two reasons. Longer wings move the tips farther out which increases their tangential velocity and thus increases the thrust they produce. Since the tips are acting as the [propeller](https://web.mit.edu/16.unified/www/FALL/thermodynamics/notes/node86.html) region of the wings, it's also beneficial if they have a high aspect ratio to decrease as much as possible the [induced drag](https://en.wikipedia.org/wiki/Lift-induced_drag) they generate. This requires that the wings become progressively narrower at the tips. Moreover, by decreasing the area of the wingtips, there is less mass being accelerated in that region, so the entire [moment of inertia](https://en.wikipedia.org/wiki/Moment_of_inertia) of the wing is decreased. The end result is that these long thin wings with tapered tips can generate the same amount of lift and thrust for __less power__ than short and broad wings.

{% include image-slider.html list=page.slider7 local='yes' aspect_ratio='16/9' %}
<p align="center"><i>Long tapered wings provided the best performance</i></p> 

Despite longer wings having a larger moment of inertia because of their increase in radius, the increase in thrust generated by that extension tends to compensate for the greater ammount of energy lost by constantly accelerating the wings (__inertial loss__). As consequence, it is still beneficial to have longer wings than shorter wings despite the opposition of these effects.

{% include youtube.html id='uuSC9xBKHLg' %} 
<p align="center"><i>Video 5. Highly tapared tips with active twist</i></p>

When put in practice, these long, thin wings had a significant impact in the performance of the ornithopter. It flew faster, longer, and had a slightly increased rate of climb. It was also observed that the _flapping frequency decreased_, indicating a potential decrease in the stresses experienced by the flapping mechanism as the wings weren't being accelerated as quickly.

#### Iteration 6: 
To further increase the performance of the ornithopter, a [cowling](https://en.wikipedia.org/wiki/Cowling) was built that could wrap around the existing fuselage in an effort to decrease the [parasitic drag](https://en.wikipedia.org/wiki/Parasitic_drag) of the aircraft. This increased the weight of the aircraft and hence the power it would require to maintain flight, but the decrease in drag caused by the cowling was expected to more than compensate for this effect. This assertion was proven to be correct, as the aircraft had a noticeable increase in performance.

{% include image-slider.html list=page.slider8 local='yes' aspect_ratio='16/9' %}
<p align="center"><i>The cowling had a sock-shape and wrapped around the fuselage</i></p> 

{% include image-slider.html list=page.slider9 local='yes' aspect_ratio='16/9' %}
<p align="center"><i>The completed ornithopter looked much more streamlined with the cowling</i></p> 

The cowling had a multitude of effects. For one, it was noticed that the aircraft would fly significantly faster when allowed to accelerate for a prolonged period of time in level flight. The aircraft would also lose energy less quickly during sudden maneuvers like rapid climbs and sudden turns. Oddly enough, the rate of climb didn't seem to be affected. However, the model did seem to fly longer as the motor was not as _hot_ at the end of a flight.

{% include youtube.html id='r7xRDLjg0uo' %} 
<p align="center"><i>Video 6. Aerodynamic cowling placed round the fuselage</i></p>

# Conclusion
The final ornithopter configuration was capable of flying significantly __faster__ than its original iteration and while also __climbing better__ despite being much __heavier__. These changes indicated a clear improvement in the design of the wings, which could then be transplanted over to a servo-driven ornithopter with a much weaker and less efficient reciprocating drive. However, it was noted that the inertia of the wings played a very large role in the efficiency of the ornithopter. Unfortunately, only a small fraction of the energy imparted into accelerating the wings is ultimately recuperated by the crank mechanism. This constant energetic drain can be a very significant fraction of the overall power used by the aircraft. See the following paper:

**PDF: <a href="https://www.researchgate.net/publication/13904663_Moment_of_inertia_of_bird_wings_and_the_inertial_power_requirement_for_flapping_flight">The Moment of Inertia of Bird Wings and the Inertial Power Requirement for Flapping Flight</a>**

![image](/img/motor_orni/bird-wing.png)
<p align="center"><i>Bird wings have very low moments of inertia</i></p>

It was calculated that [the active twist design wasted roughly 30% of its input power](https://www.rcgroups.com/forums/showpost.php?p=51335431&postcount=279) just oscillating the wings. This serves as a warning that inertial losses must be factored in to make an efficient wing design. It is __critical__ that the inertia of the wings is minimized such that the energy loss is as low as possible. Otherwise, the efficiency of the ornithopter will be _low_ compared to other aircraft. 

# Arduino Code
To allow the motor-driven ornithopter to glide, it was necessary to develop a system that could move the wings to an acceptable [dihedral angle](https://en.wikipedia.org/wiki/Dihedral_(aeronautics)). A simple solution is to use a sensor connected to the motor via a circuit that creates a feedback loop, such that the motor stops in a particular location whenever the sensor is active. Once the wings reach their target location, an additional mechanism has to keep the wings in place. This can either be a mechanical lock, or alternatively, a set of downstroke springs which prevent the wings from collapsing during a glide. To accomplish the required feeback, an [Arduino Nano](https://store.arduino.cc/products/arduino-nano) was used in conjuction with a [hall sensor](https://en.wikipedia.org/wiki/Hall_effect_sensor) to control the motor.

![image](https://raw.githubusercontent.com/RCmags/GlideLock/refs/heads/main/diagrams/nano/schematic-nano.png)

The sensor looks for a magnet attached to the crank, and once the magnet is infront of the sensor, the motor will turn off. Unfortunately some [electronic speed controllers](https://en.wikipedia.org/wiki/Electronic_speed_control) respond with a delay to throttle commands. In practice this means the crank will stop at the wrong position. To work around this one can run the motor for a short time interval after the magnet passes the sensor. If this delay is tuned correctly the crank will stop in the desired position. The arduino was programmed to only the behavior of the motor at low throttle settings, and beyond a particular threshold, it simply passed through the signal sent from the radio receiver. We can see the [glide-lock](http://ovirc.free.fr/GLDAB_English.php) system working in this video:
 
{% include youtube.html id='v0z1ojpoehQ' %}    
<p align="center"><i>Video 7. Operation of the glide lock system</i></p> 

__Github Repository:__ [GlideLock](https://github.com/RCmags/GlideLock)
